{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  query appQuery($id: String) {\\n    app(id: $id) {\\n      id\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useEffect } from 'react';\nimport { ThemeProvider, createMuiTheme, StylesProvider, jssPreset } from '@material-ui/core/styles';\nimport { create } from 'jss';\nimport { PageTransition } from 'next-page-transitions';\nimport rtl from 'jss-rtl';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport LoadingBar from 'react-top-loading-bar';\nimport { i18n, appWithTranslation } from '../i18n';\nimport appTheme from '../theme/appTheme';\n/* import css vendors */\n\nimport '../node_modules/animate.css/animate.css';\nimport '../vendors/top-loading-bar.css';\nimport '../vendors/animate-extends.css';\nimport '../vendors/page-transition.css';\nimport '../vendors/slick/slick.css';\nimport '../vendors/slick/slick-theme.css';\nimport { ApolloProvider, useQuery, gql } from '@apollo/react-hooks';\nimport { client } from \"../lib/apollo\";\nvar QUERY_APP = gql(_templateObject());\nvar themeType = 'light';\n\nif (typeof Storage !== 'undefined') {\n  // eslint-disable-line\n  themeType = localStorage.getItem('luxiTheme') || 'light';\n}\n\nfunction MyApp(props) {\n  return __jsx(\"div\", null, __jsx(ApolloProvider, {\n    client: client\n  }, __jsx(MainWrap, props)));\n}\n\n_c = MyApp;\n\nvar MainWrap = function MainWrap(props) {\n  _s();\n\n  var router = props.router,\n      pageProps = props.pageProps,\n      Component = props.Component; // eslint-disable-line\n\n  var _useQuery = useQuery(QUERY_APP, {\n    variables: {\n      id: \"26972e49-7b52-43f7-82f0-ce17895059d3\"\n    }\n  }),\n      appLoading = _useQuery.loading,\n      error = _useQuery.error,\n      data = _useQuery.data;\n\n  var _useState = useState(_objectSpread(_objectSpread({}, appTheme('greenLeaf', themeType)), {}, {\n    direction: i18n.language === 'ar' ? 'rtl' : 'ltr'\n  })),\n      theme = _useState[0],\n      setTheme = _useState[1];\n\n  var _useState2 = useState(0),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var muiTheme = createMuiTheme(theme);\n  useEffect(function () {\n    // Set layout direction\n    document.dir = i18n.language === 'ar' ? 'rtl' : 'ltr'; // Remove preloader\n\n    var preloader = document.getElementById('preloader');\n\n    if (preloader !== null || undefined) {\n      preloader.remove();\n    } // Remove loading bar\n\n\n    setLoading(0);\n    setTimeout(function () {\n      setLoading(100);\n    }, 2000); // Refresh JSS in SSR\n\n    var jssStyles = document.querySelector('#jss-server-side');\n\n    if (jssStyles) {\n      jssStyles.parentNode.removeChild(jssStyles);\n    }\n  }, []);\n\n  var toggleDirection = function toggleDirection(dir) {\n    document.dir = dir;\n    setTheme(_objectSpread(_objectSpread({}, theme), {}, {\n      direction: dir,\n      palette: _objectSpread({}, theme.palette)\n    }));\n  };\n\n  var toggleDarkTheme = function toggleDarkTheme() {\n    var newPaletteType = theme.palette.type === 'light' ? 'dark' : 'light';\n    localStorage.setItem('luxiTheme', theme.palette.type === 'light' ? 'dark' : 'light');\n    setTheme(_objectSpread(_objectSpread({}, appTheme('greenLeaf', newPaletteType)), {}, {\n      direction: theme.direction\n    }));\n  };\n\n  var jss = create({\n    plugins: [].concat(_toConsumableArray(jssPreset().plugins), [rtl()])\n  });\n  return __jsx(StylesProvider, {\n    jss: jss\n  }, __jsx(ThemeProvider, {\n    theme: muiTheme\n  }, __jsx(CssBaseline, null), __jsx(LoadingBar, {\n    height: 0,\n    color: theme.palette.primary.light,\n    progress: loading,\n    className: \"top-loading-bar\"\n  }), __jsx(\"div\", {\n    id: \"main-wrap\"\n  }, __jsx(PageTransition, {\n    timeout: 300,\n    classNames: \"page-fade-transition\"\n  }, appLoading ? __jsx(\"p\", null, \"l\") : __jsx(Component, _extends({\n    app: data && data.app\n  }, pageProps, {\n    onToggleDark: toggleDarkTheme,\n    onToggleDir: toggleDirection,\n    key: router.route\n  }))))));\n};\n\n_s(MainWrap, \"aLwehHjYH6A0Y/WD3oHGop+eUZQ=\", false, function () {\n  return [useQuery];\n});\n\n_c2 = MainWrap;\nexport default _c3 = appWithTranslation(MyApp);\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"MyApp\");\n$RefreshReg$(_c2, \"MainWrap\");\n$RefreshReg$(_c3, \"%default%\");","map":{"version":3,"sources":["/Users/halildogan/Desktop/hd-dev.nosync/navi/navi.archi/pages/_app.js"],"names":["React","useState","useEffect","ThemeProvider","createMuiTheme","StylesProvider","jssPreset","create","PageTransition","rtl","CssBaseline","LoadingBar","i18n","appWithTranslation","appTheme","ApolloProvider","useQuery","gql","client","QUERY_APP","themeType","Storage","localStorage","getItem","MyApp","props","MainWrap","router","pageProps","Component","variables","id","appLoading","loading","error","data","direction","language","theme","setTheme","setLoading","muiTheme","document","dir","preloader","getElementById","undefined","remove","setTimeout","jssStyles","querySelector","parentNode","removeChild","toggleDirection","palette","toggleDarkTheme","newPaletteType","type","setItem","jss","plugins","primary","light","app","route"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  ThemeProvider,\n  createMuiTheme,\n  StylesProvider,\n  jssPreset\n} from '@material-ui/core/styles';\nimport { create } from 'jss';\nimport { PageTransition } from 'next-page-transitions';\nimport rtl from 'jss-rtl';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport LoadingBar from 'react-top-loading-bar';\nimport { i18n, appWithTranslation } from '../i18n';\nimport appTheme from '../theme/appTheme';\n/* import css vendors */\nimport '../node_modules/animate.css/animate.css';\nimport '../vendors/top-loading-bar.css';\nimport '../vendors/animate-extends.css';\nimport '../vendors/page-transition.css';\nimport '../vendors/slick/slick.css';\nimport '../vendors/slick/slick-theme.css';\n\nimport { ApolloProvider, useQuery, gql } from '@apollo/react-hooks';\n\nimport {client} from \"../lib/apollo\";\n\nconst QUERY_APP = gql`\n  query appQuery($id: String) {\n    app(id: $id) {\n      id\n    }\n  }\n`\n\nlet themeType = 'light';\nif (typeof Storage !== 'undefined') { // eslint-disable-line\n  themeType = localStorage.getItem('luxiTheme') || 'light';\n}\n\nfunction MyApp(props) {\n  return (\n    <div>\n      <ApolloProvider client={client}>\n            <MainWrap {...props}/>\n        </ApolloProvider>\n    </div>\n  );\n}\n\nconst MainWrap = (props) => {\n  const {\n    router,\n    pageProps,\n    Component,\n  } = props; // eslint-disable-line\n\n  const {loading: appLoading, error, data} = useQuery(QUERY_APP, {\n    variables: {\n      id: \"26972e49-7b52-43f7-82f0-ce17895059d3\"\n    }\n  })\n  const [theme, setTheme] = useState({\n    ...appTheme('greenLeaf', themeType),\n    direction: i18n.language === 'ar' ? 'rtl' : 'ltr'\n  });\n  const [loading, setLoading] = useState(0);\n\n  const muiTheme = createMuiTheme(theme);\n \n\n  useEffect(() => {\n    // Set layout direction\n    document.dir = i18n.language === 'ar' ? 'rtl' : 'ltr';\n\n    // Remove preloader\n    const preloader = document.getElementById('preloader');\n    if (preloader !== null || undefined) {\n      preloader.remove();\n    }\n\n    // Remove loading bar\n    setLoading(0);\n    setTimeout(() => { setLoading(100); }, 2000);\n\n    // Refresh JSS in SSR\n    const jssStyles = document.querySelector('#jss-server-side');\n    if (jssStyles) {\n      jssStyles.parentNode.removeChild(jssStyles);\n    }\n  }, []);\n\n  const toggleDirection = dir => {\n    document.dir = dir;\n    setTheme({\n      ...theme,\n      direction: dir,\n      palette: {\n        ...theme.palette\n      }\n    });\n  };\n\n  const toggleDarkTheme = () => {\n    const newPaletteType = theme.palette.type === 'light' ? 'dark' : 'light';\n    localStorage.setItem('luxiTheme', theme.palette.type === 'light' ? 'dark' : 'light');\n    setTheme({\n      ...appTheme('greenLeaf', newPaletteType),\n      direction: theme.direction,\n    });\n  };\n\n\n  const jss = create({ plugins: [...jssPreset().plugins, rtl()] });\n\n  return (\n    <StylesProvider jss={jss}>\n      <ThemeProvider theme={muiTheme}>\n        <CssBaseline />\n        <LoadingBar\n          height={0}\n          color={theme.palette.primary.light}\n          progress={loading}\n          className=\"top-loading-bar\"\n        />\n        <div id=\"main-wrap\">\n          <PageTransition timeout={300} classNames=\"page-fade-transition\">\n            {\n              appLoading ? <p>l</p> : (\n                <Component\n                  app={data && data.app}\n                  {...pageProps}\n                  onToggleDark={toggleDarkTheme}\n                  onToggleDir={toggleDirection}\n                  key={router.route}\n                />\n              )\n            }\n          </PageTransition>\n        </div>\n      </ThemeProvider>\n    </StylesProvider>\n  )\n}\n\nMyApp.propTypes = {\n  Component: PropTypes.elementType.isRequired,\n  pageProps: PropTypes.object.isRequired\n};\n\nexport default appWithTranslation(MyApp);\n"]},"metadata":{},"sourceType":"module"}